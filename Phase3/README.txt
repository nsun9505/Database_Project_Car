1. 실행 및 사용 방법
- 기능 구현 환경 : docker oracle_11g, 1600 port, user : knu, password : comp322입니다. 테스트 환경과 기능 구현 환경이 다를 경우 테스트 환경에 맞게 변경 시 소스파일 내의 *DAO.java 파일 내에서 url, user, pw의 값을 수정해야 한다.
- 프로그램 수행 전 PROJECT PHASE 3에서 제출한 파일 중 추가로 제출한 TeamX-Phase3-DDL.sql을 수행하여 테이블을 생성하고 데이터를 삽입 후에 실행해야 합니다. 변경사항이 생겨서 ALTER TABLE문과 CREATE VIEW문을 추가하였습니다. 즉 TeamX-Phase2-1.sql, TeamX-Phase2-2.sql의 내용과 프로젝트 진행 중에 발생한 변경사항에 따른 ALTER TABLE문과 CREATE VIEW문이 포함된 TeamX-Phase3-DDL.sql만 수행해야 한다.
- 데이터베이스와 연동을 위한 oracleX.jar 파일은 C:\에 위치시키고 프로그램을 수행해야 한다.
	
2. 기능 설명
	1) 계정 관련 기능	
		1-1. 회원 가입: 필수 정보를 입력하여 가입할 수 있다. 필수 정보가 아닌 항목 들은 건너 뛸 수 있으며 이때는 NULL 값으로 저장된다. 회원 가입을 완료하면 계정 정보가 저장된다.
		1-2. 로그인: 회원은 아이디와 비밀번호를 입력하여 로그인 한다. Account Type에 따라 “고객” 과 “관리자”로 구분되며 이에 따라 사용할 수 있는 기능이 달라진다.
		1-3. 계정 관리: 로그인 한 회원은 ‘회원 정보 수정’과 ‘회원 탈퇴’ 기능을 수행할 수 있다. ‘회원 정보 수정’ 을 원할 시 수정할 항목을 선택한 후, 작업을 완료하면 수정된 정보가 저장된다. 수정된 정보가 없을 시 “변경 사항이 없습니다.” 라는 문구를 출력한후 이전 단계로 돌아간다. 비밀번호 변경을 정보 수정에서 할 수 있다. 또한 각 항목에 대한 제약사항이 있으므로 제약조건을 만족하는 입력이 아닐 경우에만 수정할 수 있다. 아이디는 수정할 수 없다.
	      	‘회원 탈퇴’를 원할 시 회원은 비밀번호를 입력한다. “정말로 탈퇴하시겠습니까?” 라는 문구를 출력하여 회원의 의사를 확인한다. 탈퇴가 완료되면 계정 정보가 삭제되며 로그아웃 한다. 이때 고객 계정으로 탈퇴할 때는 고객의 정보를 참조하고 있던 ‘거래 내역’들도 삭제된다. 관리자 계정으로 탈퇴할 때는 해당 관리자가 등록한 매물은 admin 계정에게 자동으로 양도되며 거래내역의 판매자 아이디도 admin으로 변경된다. admin은 탈퇴할 수 없다.
	2) 차량 관련 기능
		2-1. 차량 정보 조회: 회원은 로그인 이후 차량 매물 전체를 볼 수 있다. 아무런 검색 조건을 설정하지 않았을 때에는 등록된 매물 전체의 정보가 출력 된다. 한 페이지당 50대씩 차량 정보가 출력되며 차량의 REGISTRATION_NUMBER 를 내림차순으로 출력한다. 회원은 자유롭게 다음페이지와 이전페이지를 탐색할 수 있으며 첫 페이지와 마지막 페이지에서는 더이상 탐색할 수 없음을 알려주는 문구를 출력한다.
		2-2. 차량 검색: 회원은 자신이 원하는 차량을 찾기 위해 페이지 하단에 표시되는 다양한 조건들을 조합하여 차량 목록을 추려낼 수 있다. 조건을 자유롭게 추가하거나 뺄 수 있지만 제조사/모델/세부모델 의 경우 상위 항목의 조건이 제거될 경우 하위 항목의 조건도 모두 제거 된다. 
		Ex) Hyundai > Avante > AD 순으로 조건을 선택 했을 때 Hyundai 라는 제조사 조건을 제거하면 Avante 와 AD 라는 조건들도 제거된다.
		2-3. 차량 구매: 회원은 자신이 원하는 차량의 등록번호(registration number)를 통해 매물의 세부정보를 확인할 수 있다. 구매하기를 선택하여 차량을 구입하면 “구매 성공!”이라는 문구와 함께 차량의 구매가 확정된다. 이때 판매된 차량의 정보는 더 이상 매물로서는 확인할 수 없다. 또한 관리자는 구매할 수 없다.
		2-4. 조건 항목(CATEGORY, MAKE, MODEL 등)들은 현재 선택된 조건들에 의해서  선택할 수 있는 값들만 출력이 되며 사용자들은 해당 범위 안에서 선택할 수 있다. 예를 들어 SUV(Category) AND (BLACK(COLOR) OR WHITE(COLOR) ) AND LPG(FUEL)의 조건을 선택했을 때, CATEGORY에서 선택할 수 있는 조건은 CATEGORY 테이블에 존재하는 모든 ATTRIBUTE가 아니라 현재 선택된 조건에 맞는 CATEGORY 항목 중에서 선택할 수 있다. 즉 사용자는 선택한 조건에 의해서 결과를 도출할 수 있는 조건을 선택한다. 조건을 어떻게 설정하느냐에 따라서 결과에는 아무 항목도 출력하지 못하는 결과도 존재한다. 
		2-5. 사용자가 전체 매물을 보고 싶은 경우에는 모든 조건을 선택하지 않으면 현재 판매되고 있는 모든 매물을 볼 수 있다. 매물은 등록번호가 가장 높은 것(최근에 추가된 것)부터 출력된다.
	3) 거래 내역 관련 기능
		3-1. 고객 계정으로 접속하였을 때: 고객은 자신의 차량 거래 내역을 확인할 수 있다. 거래 내역에는 자신이 구매한 차량의 등록번호(registration number)와 판매자의 아이디, 거래 날짜를 알 수 있다.
		3-2. 관리자 계정으로 접속하였을 때: 
			3-2-1. 관리자는 모든 차량의 거래 내역을 확인할 수 있다. 
			3-2-2. 월별, 연도별, 제조사별 매출액을 확인할 수 있다.
		3-3. 모든 거래 내역은 로그아웃, Application 종료 등을 한 뒤에도 유지된다.
	4) 관리자 관련 기능(차량정보에 관한 기능): 관리자 계정으로 접속하였을 때만 사용 가능한 기능.
		4-1. 차량 등록: 관리자는 새로운 차량을 매물로 등록할 수 있다. 가격, 모델명, 주행거리 등 차량에 관련한 모든 정보를 순서에 따라 입력해야 한다. 차량번호는 기존에 등록된 차량과 중복될 수 없고, primary key인 등록번호는 등록된 순서에 따라 자동 생성된다.
		4-2. 차량 정보 수정: 관리자는 등록된 차량의 정보를 수정할 수 있다. 하지만 차량 번호는 수정할 수 없다. 등록번호 또는 차량번호를 입력하여 변경을 할 차량을 선택한다. 그 다음 변경할 항목을 선택하여 변경하고 저장한다.
		4-3. 차량 비공개 설정: 관리자는 등록된 차량을 허위매물 검사 등의 이유로 비공개 처리할 수 있다. 비공개 처리된 차량은 언제든 공개할 수 있다. 현재 판매중인 매물에 한하여 등록번호를 입력하여 비공개 설정을 할 수 있고, 현재 비공개 처리된 매물에 한하여 공개로 설정할 수 있다.
3. 유의 사항
- 매물 정보를 표현하기 위해 MAKE(제소사), MODEL(모델), DETAILED_MODEL(세부모델), VEHICLE(차량) 테이블을 JOIN한 VIEW를 생성하고 프로그램을 실행시켜야 합니다. VIEW를 생성하는 SQL 구문은 TeamX-Phase3-DDL.sql에 CREATE VIEW문이 작성되어 있습니다.
- 사용자로부터 입력을 받을 때 -1 또는 exit 등을 입력하여 입력 받는 폼을 빠져나가거나 정확한 입력을 할 때까지 입력을 받는 경우가 존재합니다.
- 처음에 생성된 관리자 계정 admin은 탈퇴할 수 없습니다.
- 기능 구현 중 VEHICLE 테이블에 seller_id 컬럼이 필요하여 ALTER TABLE 문을 사용하여 삽입하였으므로 반드시 TeamX-Phase3-DDL.sql 파일에 있는 ALTER TABLE문이 실행되어야 합니다.
- 반드시 TeamX-Phase3-DDL.sql를 통해 테이블 생성, 데이터 삽입, ALTER TABLE, CREATE VIEW을 실행되고 프로그램을 실행해야 합니다.